<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>esda.MoranLocalPartial &#8212; esda v2.8.1.dev2+gcb1f0d777 Manual</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=9afac83c" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pysal-styles.css?v=f8dcc4ae" />
    <script src="../_static/documentation_options.js?v=6b84fd01"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="icon" href="../_static/pysal_favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="esda.MoranLocalConditional" href="esda.MoranLocalConditional.html" />
    <link rel="prev" title="esda.plot_moran_facet" href="esda.plot_moran_facet.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          esda</a>
        <span class="navbar-text navbar-version pull-left"><b>2.8.1.dev2+gcb1f0d777</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../installation.html">Installation</a></li>
                <li><a href="../tutorial.html">Tutorial</a></li>
                <li><a href="../api.html">API</a></li>
                <li><a href="../references.html">References</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installing-released-version">Installing released version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installing-development-version">Installing development version</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api.html#a-dbscan">A-DBSCAN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#correlogram">Correlogram</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#gamma-statistic">Gamma Statistic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#geary-statistics">Geary Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#getis-ord-statistics">Getis-Ord Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#join-count-statistics">Join Count Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#join-count-local-statistics">Join Count Local Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#losh-statistics">LOSH Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#modifiable-areal-unit-tests">Modifiable Areal Unit Tests</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../api.html#moran-statistics">Moran Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#shape-statistics">Shape Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#silhouette-statistics">Silhouette Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#spatial-pearson-statistics">Spatial Pearson Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#utility-functions">Utility Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/localjoincounts.html">Local join counts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LOSH.html">Assessing local patterns of spatial heteroskedasticity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LOSH.html#Understanding-the-LOSH-statistic">Understanding the LOSH statistic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LOSH.html#Interpreting-the-LOSH-statistic">Interpreting the LOSH statistic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LOSH.html#Inference-on-the-LOSH-statistic">Inference on the LOSH statistic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LOSH.html#Applying-the-LOSH-statistic-on-a-dataset">Applying the LOSH statistic on a dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/geosilhouettes.html">Geosilhouettes: geographical measures of cluster fit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/geosilhouettes.html#The-Silhouette-Score">The Silhouette Score</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/geosilhouettes.html#Nearest-Label">Nearest Label</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/geosilhouettes.html#Geographical-Structure">Geographical Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/geosilhouettes.html#Path-Silhouettes">Path Silhouettes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/geosilhouettes.html#Boundary-Silhouettes">Boundary Silhouettes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/geosilhouettes.html#Conclusion">Conclusion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/adbscan_berlin_example.html">Cluster points and explore boundary <em>blurriness</em> with A-DBSCAN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/shape-measures.html">Measures of shape</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/shape-measures.html#Ideal-Shape-Measures">Ideal Shape Measures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/shape-measures.html#Conclusion">Conclusion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/spatial_autocorrelation_for_areal_unit_data.html">Exploratory Analysis of Spatial Data: Spatial Autocorrelation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/multivariable_moran.html">How do we introduce another variables?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/multivariable_moran.html#How-can-we-introduce-another-exogenous-variable?">How can we introduce another <em>exogenous</em> variable?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installing-released-version">Installing released version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installing-development-version">Installing development version</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/localjoincounts.html">Local join counts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LOSH.html">Assessing local patterns of spatial heteroskedasticity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LOSH.html#Understanding-the-LOSH-statistic">Understanding the LOSH statistic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LOSH.html#Interpreting-the-LOSH-statistic">Interpreting the LOSH statistic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LOSH.html#Inference-on-the-LOSH-statistic">Inference on the LOSH statistic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LOSH.html#Applying-the-LOSH-statistic-on-a-dataset">Applying the LOSH statistic on a dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/geosilhouettes.html">Geosilhouettes: geographical measures of cluster fit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/geosilhouettes.html#The-Silhouette-Score">The Silhouette Score</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/geosilhouettes.html#Nearest-Label">Nearest Label</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/geosilhouettes.html#Geographical-Structure">Geographical Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/geosilhouettes.html#Path-Silhouettes">Path Silhouettes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/geosilhouettes.html#Boundary-Silhouettes">Boundary Silhouettes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/geosilhouettes.html#Conclusion">Conclusion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/adbscan_berlin_example.html">Cluster points and explore boundary <em>blurriness</em> with A-DBSCAN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/shape-measures.html">Measures of shape</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/shape-measures.html#Ideal-Shape-Measures">Ideal Shape Measures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/shape-measures.html#Conclusion">Conclusion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/spatial_autocorrelation_for_areal_unit_data.html">Exploratory Analysis of Spatial Data: Spatial Autocorrelation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/multivariable_moran.html">How do we introduce another variables?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/multivariable_moran.html#How-can-we-introduce-another-exogenous-variable?">How can we introduce another <em>exogenous</em> variable?</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api.html#a-dbscan">A-DBSCAN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#correlogram">Correlogram</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#gamma-statistic">Gamma Statistic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#geary-statistics">Geary Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#getis-ord-statistics">Getis-Ord Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#join-count-statistics">Join Count Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#join-count-local-statistics">Join Count Local Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#losh-statistics">LOSH Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#modifiable-areal-unit-tests">Modifiable Areal Unit Tests</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../api.html#moran-statistics">Moran Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#shape-statistics">Shape Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#silhouette-statistics">Silhouette Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#spatial-pearson-statistics">Spatial Pearson Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#utility-functions">Utility Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">esda.MoranLocalPartial</a><ul>
<li><a class="reference internal" href="#esda.MoranLocalPartial"><code class="docutils literal notranslate"><span class="pre">MoranLocalPartial</span></code></a><ul>
<li><a class="reference internal" href="#esda.MoranLocalPartial.__init__"><code class="docutils literal notranslate"><span class="pre">MoranLocalPartial.__init__()</span></code></a></li>
<li><a class="reference internal" href="#esda.MoranLocalPartial.association_"><code class="docutils literal notranslate"><span class="pre">MoranLocalPartial.association_</span></code></a></li>
<li><a class="reference internal" href="#esda.MoranLocalPartial.fit"><code class="docutils literal notranslate"><span class="pre">MoranLocalPartial.fit()</span></code></a></li>
<li><a class="reference internal" href="#esda.MoranLocalPartial.labels_"><code class="docutils literal notranslate"><span class="pre">MoranLocalPartial.labels_</span></code></a></li>
<li><a class="reference internal" href="#esda.MoranLocalPartial.partials_"><code class="docutils literal notranslate"><span class="pre">MoranLocalPartial.partials_</span></code></a></li>
<li><a class="reference internal" href="#esda.MoranLocalPartial.reference_distribution_"><code class="docutils literal notranslate"><span class="pre">MoranLocalPartial.reference_distribution_</span></code></a></li>
<li><a class="reference internal" href="#esda.MoranLocalPartial.significance_"><code class="docutils literal notranslate"><span class="pre">MoranLocalPartial.significance_</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <section id="esda-moranlocalpartial">
<h1>esda.MoranLocalPartial<a class="headerlink" href="#esda-moranlocalpartial" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="esda.MoranLocalPartial">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">esda.</span></span><span class="sig-name descname"><span class="pre">MoranLocalPartial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">permutations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">999</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partial_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alternative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'two-sided'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/esda/moran_local_mv.html#MoranLocalPartial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#esda.MoranLocalPartial" title="Link to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="esda.MoranLocalPartial.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">permutations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">999</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partial_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alternative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'two-sided'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/esda/moran_local_mv.html#MoranLocalPartial.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#esda.MoranLocalPartial.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Compute the Multivariable Local Moran statistics under partial dependence <span id="id1">[<a class="reference internal" href="../references.html#id24" title="Levi John Wolf. Confounded Local Inference: extending local moran statistics to handle confounding. Annals of the American Association of Geographers, in press(in press):0-0, 2024.">Wol24</a>]</span></p>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>permutations<span class="classifier">int</span></dt><dd><p>the number of permutations to run for the inference,
driven by conditional randomization.</p>
</dd>
<dt>unit_scale<span class="classifier">bool</span></dt><dd><p>whether to enforce unit variance in the local statistics. This
normalizes the variance of the data at inupt, ensuring that
the covariance statistics are not overwhelmed by any single
covariate’s large variance.</p>
</dd>
<dt>partial_labels<span class="classifier">bool, default=True</span></dt><dd><p>whether to calculate the classification based on the part-regressive 
quadrant classification or the univariate quadrant classification,
like a classical Moran’s I. When mvquads is True, the variables are labelled as:
- label 1: observations with large y - rho * x that also have large Wy values. 
- label 2: observations with small y - rho * x values that also have large Wy values.
- label 3: observations with small y - rho * x values that also have small Wy values. 
- label 4: observations with large y - rho * x values that have small Wy values.</p>
</dd>
<dt>alternative<span class="classifier">str (default: ‘two-sided’)</span></dt><dd><p>the alternative hypothesis for the inference. One of
‘two-sided’, ‘greater’, ‘lesser’, ‘directed’, or ‘folded’.
See the esda.significance.calculate_significance() documentation
for more information.</p>
</dd>
</dl>
<dl class="field-list">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>connectivity</strong><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">The</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">weights</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">matrix</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">inputted</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">but</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">row</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">standardized</span></code></span></dt><dd></dd>
<dt><strong>D</strong><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">The</span></code> “design” <code class="xref py py-obj docutils literal notranslate"><span class="pre">matrix</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">used</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">in</span></code> computation. <code class="xref py py-obj docutils literal notranslate"><span class="pre">If</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">X</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">is</span></code></span></dt><dd><p>not None, this will be [1 y X]</p>
</dd>
<dt><strong>R</strong><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">the</span></code> “response” <code class="xref py py-obj docutils literal notranslate"><span class="pre">matrix</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">used</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">in</span></code> computation. <code class="xref py py-obj docutils literal notranslate"><span class="pre">Will</span></code></span></dt><dd><p>always be the same shape as D and contain [1, Wy, Wy, ….]</p>
</dd>
<dt><strong>DtDi</strong><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">empirical</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">parameter</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">covariance</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">matrix</span></code></span></dt><dd><p>the P x P matrix describing the variance and covariance
of y and X.</p>
</dd>
<dt><strong>P</strong><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">the</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">number</span></code> of parameters. 1 if <code class="xref py py-obj docutils literal notranslate"><span class="pre">X</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">is</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">not</span></code> provided.</span></dt><dd></dd>
<dt><strong>association_</strong><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">the</span></code> N,P <code class="xref py py-obj docutils literal notranslate"><span class="pre">matrix</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">multivariable</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">LISA</span></code> statistics.</span></dt><dd><p>the first column, lmos[:,1] is the LISAs corresponding
to the relationship between Wy and y conditioning on X.</p>
</dd>
<dt><strong>reference_distribution_</strong><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">the</span></code> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">N</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">permutations</span></code>, P+1) <code class="xref py py-obj docutils literal notranslate"><span class="pre">realizations</span></code> from <code class="xref py py-obj docutils literal notranslate"><span class="pre">the</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">conditional</span></code></span></dt><dd><p>randomization to generate reference distributions for
each Local Moran statistic. rlmos_[:,:,1] pertain to
the reference distribution of y and Wy.</p>
</dd>
<dt><strong>significance_</strong><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">the</span></code> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">N</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">P</span></code>) <code class="xref py py-obj docutils literal notranslate"><span class="pre">matrix</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">quadrant</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">classifications</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">for</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">the</span></code></span></dt><dd><p>part-regressive relationships. quads[:,0] pertains to
the relationship between y and Wy. The mean is not classified,
since it’s just binary above/below mean usually.</p>
</dd>
<dt><strong>partials_: the (N,2,P+1) matrix of part-regressive contributions.</strong></dt><dd><p>The ith slice of partials_[:,:,i] contains the
partial regressive contribution of that covariate, with
the first column indicating the part-regressive outcome
and the second indicating the part-regressive design.
The partial regression matrix starts at zero, so
partials_[:,:,0] corresponds to the partial regression
describing the relationship between y and Wy.</p>
</dd>
<dt><strong>labels_</strong><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">the</span></code> (N,) <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">array</span></code></a> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">quadrant</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">classifications</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">for</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">the</span></code></span></dt><dd><p>part-regressive relationships. See the partial_labels argument
for more information.</p>
</dd>
</dl>
</dd>
</dl>
</section>
</dd></dl>

<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#esda.MoranLocalPartial.__init__" title="esda.MoranLocalPartial.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>([permutations, unit_scale, ...])</p></td>
<td><p>Compute the Multivariable Local Moran statistics under partial dependence <span id="id2">[<a class="reference internal" href="../references.html#id24" title="Levi John Wolf. Confounded Local Inference: extending local moran statistics to handle confounding. Annals of the American Association of Geographers, in press(in press):0-0, 2024.">Wol24</a>]</span></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#esda.MoranLocalPartial.fit" title="esda.MoranLocalPartial.fit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fit</span></code></a>(X, y, W)</p></td>
<td><p>Fit the partial local Moran statistic on input data</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#esda.MoranLocalPartial.association_" title="esda.MoranLocalPartial.association_"><code class="xref py py-obj docutils literal notranslate"><span class="pre">association_</span></code></a></p></td>
<td><p>The association between y and the local average of y, removing the correlation due to x and the local average of y</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#esda.MoranLocalPartial.labels_" title="esda.MoranLocalPartial.labels_"><code class="xref py py-obj docutils literal notranslate"><span class="pre">labels_</span></code></a></p></td>
<td><p>The classifications (in terms of cluster-type and outlier-type) for the <a href="#id3"><span class="problematic" id="id4">association_</span></a> statistics.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#esda.MoranLocalPartial.partials_" title="esda.MoranLocalPartial.partials_"><code class="xref py py-obj docutils literal notranslate"><span class="pre">partials_</span></code></a></p></td>
<td><p>The components of the local statistic.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#esda.MoranLocalPartial.reference_distribution_" title="esda.MoranLocalPartial.reference_distribution_"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reference_distribution_</span></code></a></p></td>
<td><p>Simulated distribution of <a href="#id5"><span class="problematic" id="id6">association_</span></a>, assuming that there is</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#esda.MoranLocalPartial.significance_" title="esda.MoranLocalPartial.significance_"><code class="xref py py-obj docutils literal notranslate"><span class="pre">significance_</span></code></a></p></td>
<td><p>The pseudo-p-value built using map randomization for the structural relationship between y and its local average, removing the correlation due to the relationship between x and the local average of y.</p></td>
</tr>
</tbody>
</table>
<dl class="py property">
<dt class="sig sig-object py" id="esda.MoranLocalPartial.association_">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">association_</span></span><a class="headerlink" href="#esda.MoranLocalPartial.association_" title="Link to this definition">¶</a></dt>
<dd><p>The association between y and the local average of y,
removing the correlation due to x and the local average of y</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="esda.MoranLocalPartial.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">W</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/esda/moran_local_mv.html#MoranLocalPartial.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#esda.MoranLocalPartial.fit" title="Link to this definition">¶</a></dt>
<dd><p>Fit the partial local Moran statistic on input data</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>X</strong><span class="classifier">(N,p) <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">array</span></code></a></span></dt><dd><p>array of data that is used as “confounding factors”
to account for their covariance with Y.</p>
</dd>
<dt><strong>y</strong><span class="classifier">(N,1) <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">array</span></code></a></span></dt><dd><p>array of data that is the targeted “outcome” covariate
to compute the multivariable Moran’s I</p>
</dd>
<dt><strong>W</strong><span class="classifier">(N,N) <code class="xref py py-obj docutils literal notranslate"><span class="pre">weights</span></code> <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code></a></span></dt><dd><p>spatial weights instance as W or Graph aligned with y. Immediately row-standardized.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>self</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code></a></span></dt><dd><p>this MoranLocalPartial() statistic after fitting to data</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="esda.MoranLocalPartial.labels_">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">labels_</span></span><a class="headerlink" href="#esda.MoranLocalPartial.labels_" title="Link to this definition">¶</a></dt>
<dd><p>The classifications (in terms of cluster-type and outlier-type)
for the <a href="#id7"><span class="problematic" id="id8">association_</span></a> statistics. If the quads requested are
<em>mvquads</em>, then the classification is done with respect to the
left and right components (first and second columns of <a href="#id9"><span class="problematic" id="id10">partials_</span></a>).</p>
<p>If the quads requested are <em>uvquads</em>, then this will only be computed
with respect to the outcome and the local average.
The cluster typology is:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>1: above-average left component (either y or D &#64; DtDi),</dt><dd><p>above-average right component (local average of y)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>2: below-average left component (either y or D &#64; DtDi),</dt><dd><p>above-average right component (local average of y)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>3: below-average left component (either y or D &#64; DtDi)</dt><dd><p>below-average right component (local average of y)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>4: above-average left component (either y or D &#64; DtDi)</dt><dd><p>below-average right component (local average of y)</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="esda.MoranLocalPartial.partials_">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">partials_</span></span><a class="headerlink" href="#esda.MoranLocalPartial.partials_" title="Link to this definition">¶</a></dt>
<dd><p>The components of the local statistic. The first column is the
structural exogenous component of the data, and the second is the
local average of y.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="esda.MoranLocalPartial.reference_distribution_">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reference_distribution_</span></span><a class="headerlink" href="#esda.MoranLocalPartial.reference_distribution_" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Simulated distribution of <a href="#id11"><span class="problematic" id="id12">association_</span></a>, assuming that there is</dt><dd><ul class="simple">
<li><p>no structural relationship between y and its local average;</p></li>
<li><p>the same observed structural relationship between y and x.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="esda.MoranLocalPartial.significance_">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">significance_</span></span><a class="headerlink" href="#esda.MoranLocalPartial.significance_" title="Link to this definition">¶</a></dt>
<dd><p>The pseudo-p-value built using map randomization for the
structural relationship between y and its local average,
removing the correlation due to the relationship between x
and the local average of y.</p>
</dd></dl>

</dd></dl>

</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/generated/esda.MoranLocalPartial.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2018, pysal developers.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 8.2.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>